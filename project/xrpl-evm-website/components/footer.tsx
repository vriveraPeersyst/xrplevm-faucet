"use client";

import { ExternalLink } from "./external-link";
import { communityLinks, ecosystemLinks } from "./links";
import { buildLinks } from "./links";
import { Logo } from "./logo";
import { MetamaskButton, MetamaskHeaderButton } from "./metamask-button";
import { ScrollAnimation } from "./ui/scroll-animation";

function FooterSvg() {
  return (
    <svg width="542" height="506" viewBox="0 0 542 506" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M541 529.91L280.503 272.345L269.362 261.497L11.797 1M528.247 538.119L270.096 282.9L259.101 272.199L3.88177 14.0473M515.494 546.181L259.688 293.307L248.84 282.753L-4.03401 26.9468M502.739 554.245L249.279 303.717L238.431 293.162L-12.2445 39.7021M489.838 562.16L238.723 313.831L228.022 303.422L-20.3079 52.3076M476.791 570.223L228.021 324.239L217.467 313.977L-28.3708 65.2083M464.185 578.286L217.761 334.648L207.206 324.386L-36.4326 77.9621M451.284 586.202L207.206 344.909L196.798 334.794L-44.4952 90.8624M438.238 594.558L196.505 355.61L186.244 345.642L-52.7042 103.909M425.925 602.033L186.391 365.725L176.13 355.756L-60.619 116.516M412.877 610.537L175.835 376.134L165.72 366.312L-68.6828 129.27M400.125 618.598L165.428 386.54L155.46 376.865L-76.7447 142.169M387.37 626.662L154.873 396.95L144.904 387.274L-84.8079 154.923M374.322 634.871L144.317 407.504L134.495 397.975L-92.7251 167.823M361.57 642.786L133.91 417.619L124.235 408.237L-100.933 180.577M348.816 650.849L123.502 428.027L113.826 418.645L-108.996 193.331M336.062 658.766L113.093 438.289L103.564 429.054L-116.913 206.085M323.163 666.975L102.54 448.844L93.1575 439.755L-124.974 219.132M310.407 675.038L92.1289 459.106L82.7469 450.017L-133.039 231.739M297.508 682.953L81.575 469.513L72.3395 460.571L-141.247 244.639M284.608 691.163L71.0207 479.922L61.932 471.126L-149.31 257.539M271.852 699.226L60.6108 490.33L51.5219 481.535L-157.374 270.293M258.807 707.58L50.2044 500.59L41.2619 491.941L-165.289 283.045M246.201 715.057L39.6503 510.705L30.8546 502.203L-173.497 295.653M233.593 723.267L29.3878 521.261L20.7389 512.759L-181.267 308.554M220.692 731.476L18.832 531.816L10.1829 523.46L-189.478 321.6M207.793 739.538L8.27877 542.077L-0.223612 533.868L-197.539 334.354M195.04 747.601L-2.12853 552.631L-10.4841 544.422L-205.454 347.254M181.991 755.664L-12.8322 562.893L-21.1881 554.83L-213.959 360.008M169.239 763.58L-23.239 573.155L-31.4481 565.239L-221.873 372.762M156.487 771.789L-33.6456 583.71L-41.7081 575.794L-229.788 385.662M143.73 779.998L-44.056 594.264L-52.1187 586.494L-237.853 398.708M130.978 787.914L-54.4633 604.525L-62.3795 596.902L-245.915 411.168M118.077 795.831L-65.0183 614.788L-72.7878 607.165L-253.978 424.07M105.322 803.893L-75.4278 625.049L-83.1972 617.572L-262.041 436.823M92.423 812.248L-85.9814 635.456L-93.6043 628.127L-270.103 449.723M79.8155 819.872L-96.3899 645.719L-103.866 638.389L-278.166 462.477M66.9164 828.082L-106.944 656.274L-114.42 649.091L-286.228 475.231M54.3086 836.144L-117.206 666.535L-124.536 659.499L-294.145 487.985M41.2639 844.352L-127.905 677.089L-135.088 670.052L-302.352 500.883M28.5093 852.269L-138.314 687.351L-145.497 680.461L-310.415 513.784M15.6082 860.332L-148.87 697.76L-155.906 691.017L-318.479 526.539M2.85395 868.54L-159.278 708.314L-166.168 701.57L-326.395 539.438M-9.89864 876.164L-169.686 718.136L-176.576 711.539L-334.604 551.752M-22.6532 884.374L-180.095 728.691L-186.838 722.241L-342.52 564.8M-35.6995 892.582L-190.796 739.245L-197.392 732.795L-350.729 577.699M-48.3062 900.499L-201.057 749.507L-207.507 743.204L-358.498 590.453M-61.2061 908.707L-211.611 760.061L-218.061 753.904L-366.707 603.499M-73.8139 916.77L-221.874 770.323L-228.177 764.166L-374.624 616.107M-86.7143 924.833L-232.428 780.731L-238.585 774.721L-382.687 629.007M-99.4688 932.749L-242.837 790.993L-248.994 785.129L-390.75 641.761M-112.807 941.105L-253.83 801.695L-259.841 795.831L-399.251 654.808M-125.708 949.168L-264.385 812.103L-270.249 806.386L-407.314 667.708M-137.874 957.083L-274.206 822.217L-280.07 816.646L-414.936 680.314M-150.776 965L-284.762 832.479L-290.479 826.909L-423 692.922"
        stroke="url(#paint0_linear_628_433)"
        strokeMiterlimit="10"
        strokeLinecap="round"
      />
      <defs>
        <linearGradient id="paint0_linear_628_433" x1="-17.4346" y1="876.564" x2="14.7627" y2="0.441129" gradientUnits="userSpaceOnUse">
          <stop offset="0.265625" stopColor="#C890FF" />
          <stop offset="1" stopColor="#7919FF" />
        </linearGradient>
      </defs>
    </svg>
  );
}

function MobileFooterSvg() {
  return (
    <svg width="440" height="305" viewBox="0 0 440 305" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M874 529.91L613.503 272.345L602.362 261.497L344.797 1M861.247 538.119L603.096 282.9L592.101 272.199L336.882 14.0473M848.494 546.181L592.688 293.307L581.84 282.753L328.966 26.9468M835.739 554.245L582.279 303.717L571.431 293.162L320.756 39.7021M822.838 562.16L571.723 313.831L561.022 303.422L312.692 52.3076M809.791 570.223L561.021 324.239L550.467 313.977L304.629 65.2083M797.185 578.286L550.761 334.648L540.206 324.386L296.567 77.9621M784.284 586.202L540.206 344.909L529.798 334.794L288.505 90.8624M771.238 594.558L529.505 355.61L519.244 345.642L280.296 103.909M758.925 602.033L519.391 365.725L509.13 355.756L272.381 116.516M745.877 610.537L508.835 376.134L498.72 366.312L264.317 129.27M733.125 618.598L498.428 386.54L488.46 376.865L256.255 142.169M720.37 626.662L487.873 396.95L477.904 387.274L248.192 154.923M707.322 634.871L477.317 407.504L467.495 397.975L240.275 167.823M694.57 642.786L466.91 417.619L457.235 408.237L232.067 180.577M681.816 650.849L456.502 428.027L446.826 418.645L224.004 193.331M669.062 658.766L446.093 438.289L436.564 429.054L216.087 206.085M656.163 666.975L435.54 448.844L426.158 439.755L208.026 219.132M643.407 675.038L425.129 459.106L415.747 450.017L199.961 231.739M630.508 682.953L414.575 469.513L405.34 460.571L191.753 244.639M617.608 691.163L404.021 479.922L394.932 471.126L183.69 257.539M604.852 699.226L393.611 490.33L384.522 481.535L175.626 270.293M591.807 707.58L383.204 500.59L374.262 491.941L167.711 283.045M579.201 715.057L372.65 510.705L363.855 502.203L159.503 295.653M566.593 723.267L362.388 521.261L353.739 512.759L151.733 308.554M553.692 731.476L351.832 531.816L343.183 523.46L143.522 321.6M540.793 739.538L341.279 542.077L332.776 533.868L135.461 334.354M528.04 747.601L330.871 552.631L322.516 544.422L127.546 347.254M514.991 755.664L320.168 562.893L311.812 554.83L119.041 360.008M502.239 763.58L309.761 573.155L301.552 565.239L111.127 372.762M489.487 771.789L299.354 583.71L291.292 575.794L103.212 385.662M476.73 779.998L288.944 594.264L280.881 586.494L95.1472 398.708M463.978 787.914L278.537 604.525L270.621 596.902L87.0853 411.168M451.077 795.831L267.982 614.788L260.212 607.165L79.0224 424.07M438.322 803.893L257.572 625.049L249.803 617.572L70.9586 436.823M425.423 812.248L247.019 635.456L239.396 628.127L62.897 449.723M412.816 819.872L236.61 645.719L229.134 638.389L54.834 462.477M399.916 828.082L226.056 656.274L218.58 649.091L46.7723 475.231M387.309 836.144L215.794 666.535L208.464 659.499L38.8554 487.985M374.264 844.352L205.095 677.089L197.912 670.052L30.6482 500.883M361.509 852.269L194.686 687.351L187.503 680.461L22.5848 513.784M348.608 860.332L184.13 697.76L177.094 691.017L14.5213 526.539M335.854 868.54L173.722 708.314L166.832 701.57L6.60479 539.438M323.101 876.164L163.314 718.136L156.424 711.539L-1.60373 551.752M310.347 884.374L152.905 728.691L146.162 722.241L-9.5205 564.8M297.3 892.582L142.204 739.245L135.608 732.795L-17.7293 577.699M284.694 900.499L131.943 749.507L125.493 743.204L-25.4984 590.453M271.794 908.707L121.389 760.061L114.939 753.904L-33.7074 603.499M259.186 916.77L111.126 770.323L104.823 764.166L-41.6241 616.107M246.286 924.833L100.572 780.731L94.4146 774.721L-49.687 629.007M233.531 932.749L90.1626 790.993L84.0056 785.129L-57.7504 641.761M220.193 941.105L79.1698 801.695L73.1593 795.831L-66.2513 654.808M207.292 949.168L68.6148 812.103L62.7512 806.386L-74.314 667.708M195.126 957.083L58.7937 822.217L52.9299 816.646L-81.9362 680.314M182.224 965L48.2378 832.479L42.5207 826.909L-90 692.922"
        stroke="url(#paint0_linear_628_800)"
        strokeMiterlimit="10"
        strokeLinecap="round"
      />
      <defs>
        <linearGradient id="paint0_linear_628_800" x1="315.565" y1="876.564" x2="347.763" y2="0.441129" gradientUnits="userSpaceOnUse">
          <stop offset="0.265625" stopColor="#C890FF" />
          <stop offset="1" stopColor="#7919FF" />
        </linearGradient>
      </defs>
    </svg>
  );
}

type FooterSocialProps = {
  icon: string;
  href: string;
};

function FooterSocial({ icon, href }: FooterSocialProps) {
  return (
    <a
      href={href}
      target="_blank"
      rel="noopener noreferrer"
      className="border rounded-[8px] p-3 hover:bg-white/10 transition-all duration-300 group"
    >
      <img
        src={icon}
        alt={href}
        className="size-6 object-contain filter grayscale brightness-110 contrast-90 opacity-90 group-hover:filter-none"
      />
    </a>
  );
}

const socialLinks: FooterSocialProps[] = [
  { icon: "/logos/x.png", href: "https://x.com/Peersyst" },
  { icon: "/logos/discord.png", href: "https://discord.com/invite/xrplevm" },
  { icon: "/logos/github.png", href: "https://github.com/peersyst" },
];

export function Footer() {
  return (
    <footer className="relative px-4 md:px-0 backdrop-blur-xl bg-background/50 z-50 isolate overflow-x-hidden md:overflow-x-visible">
      <ScrollAnimation>
        <div className="border-t pt-8 justify-between relative max-w-4xl mx-auto w-full mb-[120px] grid grid-cols-2 md:flex">
          <div className="flex flex-col gap-6 z-10">
            <Logo />

            <div className="flex items-center gap-2">
              {socialLinks.map((link) => (
                <FooterSocial key={link.href} href={link.href} icon={link.icon} />
              ))}
            </div>

            <MetamaskButton className="hidden md:flex" />
            <div>
              <MetamaskHeaderButton className="block md:hidden" />
            </div>
          </div>

          <div className="flex flex-col gap-2 z-10">
            <p className="font-semibold">Build</p>
            {buildLinks.map((link) => (
              <div key={link.label}>
                <ExternalLink
                  className="text-sm text-muted-foreground"
                  onClick={
                    !link.external ? () => document.querySelector(link.href.toString())?.scrollIntoView({ behavior: "smooth" }) : undefined
                  }
                  {...link}
                />
              </div>
            ))}
          </div>

          <div className="flex flex-col gap-2 z-10">
            <p className="font-semibold">Ecosystem</p>
            {ecosystemLinks.map((link) => (
              <div key={link.label}>
                <ExternalLink key={link.label} className="text-sm text-muted-foreground" {...link} />
              </div>
            ))}
          </div>

          <div className="flex flex-col gap-2 z-10">
            <p className="font-semibold">Community</p>
            {communityLinks.map((link) => (
              <div key={link.label}>
                <ExternalLink key={link.label} className="text-sm text-muted-foreground" {...link} />
              </div>
            ))}
          </div>
        </div>
      </ScrollAnimation>

      <div className="absolute bottom-0 left-0 hidden md:block">
        <FooterSvg />
      </div>

      <div className="absolute bottom-0 left-0 block md:hidden">
        <MobileFooterSvg />
      </div>
    </footer>
  );
}
